{
  "hash": "7f4afe6514358bdfdb9e64f57a92cb68",
  "result": {
    "engine": "knitr",
    "markdown": "# Setup {.unnumbered}\n\n## How to set up R\n\nThe tutorials rely on {{< fa brands r-project >}}, so you need to have it [installed](https://cran.r-project.org/) on your computer with, ideally, an Integrated Development Environment (IDE) such as [RStudio](https://posit.co/downloads/), [Visual Studio Code](https://code.visualstudio.com/download) or [Positron](https://posit.co/products/ide/positron/).   \n\nPlease have a look at the tutorial on how to setup a working environment for scientific computing with {{< fa brands r-project >}}:\n<https://frbcesab.github.io/rsetup/>\n\n\n### R packages needed  \n\nWe will use four packages: `terra`[@R-terra] and `sf`[@R-sf] for handling spatial data, `mapview`[@R-mapview] for interactive maps, and `here`[@R-here] for locating files locally. Make sure these four packages are installed locally by running the following script:  \n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nneeded_packages <- c(\"terra\", \"sf\", \"mapview\", \"here\")\n\ncheck_and_install <- function(x) {\n  if (!requireNamespace(x, quietly = TRUE)) {\n    install.packages(x)\n  }\n}\n\ninvisible(lapply(needed_packages, check_and_install))\n```\n:::\n\n\n\n\n## Download toy dataset\n\nAs a toy dataset, the tutorials rely on observed occurrences of otters in 2021 around Montpellier, France. These datasets were downloaded directly from {{< fa brands r-project >}}, for more details see the [tutorial on creating a toy dataset from GBIF, IGN and CHELSA](https://frbcesab.github.io/spatial-r/chapters/31_toydata_mpl.html).\n\nYou can run the following commands to download the dataset needed for the workshop (total size : 11Mb), or download [a zip archive](https://github.com/FRBCesab/spatial-r/raw/refs/heads/main/data/spatial-r_data.zip)\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# set data directory\ndatadir <- here::here(\"data\")\nif (!dir.exists(datadir)) {\n  dir.create(\n    path = datadir,\n    showWarnings = FALSE,\n    recursive = TRUE\n  )\n}\n\n# download base url\nurl_git <- \"https://github.com/FRBCesab/spatial-r/raw/refs/heads/main/data\"\n\n# download GBIF data as csv file (14kb)\nfile1 <- \"gbif_otter_2021_mpl50km.csv\"\ndownload.file(file.path(url_git, file1), file.path(datadir, file1), mode = \"wb\")\n\n# download GBIF data as geopackage file (124kb)\nfile2 <- \"gbif_otter_2021_mpl50km.gpkg\"\ndownload.file(file.path(url_git, file2), file.path(datadir, file2), mode = \"wb\")\n\n# download rivers (2.5Mb)\nfile3 <- \"BDCARTO-River_mpl50km.gpkg\"\ndownload.file(file.path(url_git, file3), file.path(datadir, file3), mode = \"wb\")\n\n# download land cover (4.7Mb)\nfile4 <- \"BDCARTO-LULC_mpl50km\"\nshpext <- c(\"dbf\", \"prj\", \"shp\", \"shx\")\nurl_shp <- file.path(url_git, paste(file4, shpext, sep = \".\"))\ndir_shp <- file.path(datadir, paste(file4, shpext, sep = \".\"))\nfor (i in seq_along(shpext)) {\n  download.file(url_shp[i], dir_shp[i], mode = \"wb\")\n}\n\n# download elevation data (505kb)\nfile5 <- \"BDALTI_mpl50km.tif\"\ndownload.file(file.path(url_git, file5), file.path(datadir, file5), mode = \"wb\")\n\n# download CHELSA monthly temperature (2.2Mb)\nfile6 <- \"CHELSA_monthly_tas_2015_2021.tif\"\ndownload.file(file.path(url_git, file6), file.path(datadir, file6), mode = \"wb\")\n\n# download GADM France country borders  (904 kb)\nfile7 <- \"gadm41_FRA_0_pk.rds\"\ndownload.file(file.path(url_git, file7), file.path(datadir, file7), mode = \"wb\")\n```\n:::\n\n\n\n\n\n\n## Session information\n\nFor reproducibility, the tutorials were last compiled on ``13 November 2025`` with the following libraries:  \n\n\n\n\n::: {.cell}\n::: {.cell-output .cell-output-stdout}\n\n```\nR version 4.5.1 (2025-06-13)\nPlatform: x86_64-pc-linux-gnu\nRunning under: Ubuntu 25.10\n\nMatrix products: default\nBLAS:   /usr/lib/x86_64-linux-gnu/blas/libblas.so.3.12.1 \nLAPACK: /usr/lib/x86_64-linux-gnu/lapack/liblapack.so.3.12.1;  LAPACK version 3.12.0\n\nattached base packages:\n[1] stats     graphics  grDevices utils     datasets  methods   base     \n\nother attached packages:\n[1] sf_1.0-21      terra_1.8-70   here_1.0.2     mapview_2.11.4\n\nloaded via a namespace (and not attached):\n [1] jsonlite_2.0.0     compiler_4.5.1     Rcpp_1.1.0         dichromat_2.0-0.1 \n [5] leaflet_2.2.3      scales_1.4.0       png_0.1-8          yaml_2.3.10       \n [9] fastmap_1.2.0      lattice_0.22-7     R6_2.6.1           classInt_0.4-11   \n[13] satellite_1.0.6    knitr_1.50         htmlwidgets_1.6.4  units_1.0-0       \n[17] rprojroot_2.1.1    DBI_1.2.3          RColorBrewer_1.1-3 rlang_1.1.6       \n[21] sp_2.2-0           xfun_0.54          cli_3.6.5          magrittr_2.0.4    \n[25] class_7.3-23       crosstalk_1.2.2    digest_0.6.37      grid_4.5.1        \n[29] leafem_0.2.5       base64enc_0.1-3    lifecycle_1.0.4    KernSmooth_2.23-26\n[33] proxy_0.4-27       evaluate_1.0.5     glue_1.8.0         raster_3.6-32     \n[37] farver_2.1.2       codetools_0.2-20   stats4_4.5.1       e1071_1.7-16      \n[41] rmarkdown_2.30     tools_4.5.1        htmltools_0.5.8.1 \n```\n\n\n:::\n:::\n",
    "supporting": [
      "01_setup_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}