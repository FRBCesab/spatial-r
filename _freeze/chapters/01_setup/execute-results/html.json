{
  "hash": "f87026464b0b30a2d1bf3d417bea8da9",
  "result": {
    "engine": "knitr",
    "markdown": "# Setup {.unnumbered}\n\n## How to install R and set up a working environment\n\nThe tutorials rely on R, so you will need R installed and ideally a\nPlease have a look at the tutorial on how to setup a working environment for scientific computing with R:\n<https://frbcesab.github.io/rsetup/>\n\n\n### R packages needed for these tutorials\n\nWe will mostly use `terra`[@R-terra], `sf`[@R-sf], `mapview`[@R-mapview], and `exactextract`.\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\nneeded_packages <- c(\"terra\", \"sf\", \"mapview\", \"exactextract\")\n\ncheck_and_install <- function(x) {\n  if (!requireNamespace(x, quietly = TRUE)) {\n    install.packages(x)\n  }\n}\n\ninvisible(lapply(needed_packages, check_and_install))\n```\n\n::: {.cell-output .cell-output-stderr}\n\n```\nInstalling package into '/home/romain/R/x86_64-pc-linux-gnu-library/4.5'\n(as 'lib' is unspecified)\n```\n\n\n:::\n\n::: {.cell-output .cell-output-stderr}\n\n```\nWarning: package 'exactextract' is not available for this version of R\n\nA version of this package for your version of R might be available elsewhere,\nsee the ideas at\nhttps://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages\n```\n\n\n:::\n:::\n\n\n\n\n## Download needed dataset\n\nAs an toy dataset, the tutorials rely on observed occurrence of otter in 2021 around Montpellier, France. These dataset were downloaded directly from R, see the [tutorial on creating a toy dataset from GBIF, IGN and CHELSA](https://frbcesab.github.io/spatial-r/chapters/31_toydata_mpl.html) for more details.\n\nYou can run the following commands to download the dataset needed for the workshop (total size : 11Mb).\n\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# set data directory\ndatadir <- here::here(\"data\")\nif (!dir.exists(datadir)) {\n  dir.create(\n    path = datadir,\n    showWarnings = FALSE,\n    recursive = TRUE\n  )\n}\n\n# download base url\nurl_git <- \"https://github.com/FRBCesab/spatial-r/raw/refs/heads/main/data\"\n\n# download GBIF data (20kb)\nfile1 <- \"gbif_otter_2021_mpl50km.csv\"\ndownload.file(file.path(url_git, file1), file.path(datadir, file1), mode = \"wb\")\n\n# download elevation data (500kb)\nfile2 <- \"BDALTI_mpl50km.tif\"\ndownload.file(file.path(url_git, file2), file.path(datadir, file2), mode = \"wb\")\n\n# download administrative borders (2.5Mb)\nfile3 <- \"BDCARTO-Commune_mpl50km.gpkg\"\ndownload.file(file.path(url_git, file3), file.path(datadir, file3), mode = \"wb\")\n\n# download rivers (2Mb)\nfile4 <- \"BDCARTO-River_mpl50km.gpkg\"\ndownload.file(file.path(url_git, file4), file.path(datadir, file4), mode = \"wb\")\n\n# download land cover (3.7Mb)\nfile5 <- \"BDCARTO-LULC_mpl50km\"\nshpext <- c(\"dbf\", \"prj\", \"shp\", \"shx\")\nurl_shp <- file.path(url_git, paste(file5, shpext, sep = \".\"))\ndir_shp <- file.path(datadir, paste(file5, shpext, sep = \".\"))\nfor (i in seq_along(shpext)) {\n  download.file(url_shp[i], dir_shp[i], mode = \"wb\")\n}\n\n# download CHELSA monthly temperature (2.2Mb)\nfile6 <- \"CHELSA_monthly_tas_2015_2021.tif\"\ndownload.file(file.path(url_git, file6), file.path(datadir, file6), mode = \"wb\")\n```\n:::\n\n\n\n\n\n\n<!-- could add a zip folder and a button to download everything:\n[Télécharger le projet](https://github.com/rgeocarto/rgeocarto.github.io/geodata.zip){.btn .btn-primary .btn-sm role=\"button\"}  \n-->",
    "supporting": [
      "01_setup_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}